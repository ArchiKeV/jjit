{% extends "main.html" %}

{% block title %}
<title>Vacancy - {{ vacancy['id'] }}</title>
{% endblock %}

{% block content %}
<header class="header">
  <a class="button" id="back" href="/{{ path_with_query }}"> < Back </a>
  <a class="button" href="/">Main page</a>
</header>
<main class="main">
  <h1 class="main__title">{{ vacancy['title'] }}</h1>
  <h2 class="main__subtitle">Company: <a href="/vacancy_list?company_on={{ vacancy.company_name }}">{{ vacancy.company_name }}</a></h2>
  {% if vacancy.company_url %}
    <h2 class="main__subtitle"><a
        href="{{ vacancy.company_url }}"
        target="_blank"
        rel="noreferrer"
    >Company site link</a></h2>
  {% endif %}
  <h2 class="main__subtitle">Address: {{ vacancy.address_text }}</h2>
  <h2 class="main__subtitle">Company size: {{ vacancy.company_size }}</h2>
  <h2 class="main__subtitle">About vacancy: </h2>
  <ol class="main__o-list">
    <li>Specialisation: <b>{{ vacancy.specialization }}</b></li>
    <li>Work type: <b>{{ vacancy.workplace_type }}</b></li>
    <li>Exp level: <b>{{ vacancy.experience_level }}</b></li>
    <li>Interview remote: <b>{{ vacancy.remote_interview }}</b></li>
    <li>Published datetime: <b>{{ vacancy.published_at.isoformat(' ', 'seconds') }}</b></li>
    <li>Remote work: <b>{{ vacancy.remote_work }}</b></li>
  </ol>
  {% if vacancy.salary_permanent %}
    <h2 class="main__subtitle">Salary permanent: {{ vacancy.salary_permanent }}</h2>
  {% endif %}
  {% if vacancy.salary_mandate %}
    <h2 class="main__subtitle">Salary mandate: {{ vacancy.salary_mandate }}</h2>
  {% endif %}
  {% if vacancy.salary_b2b %}
    <h2 class="main__subtitle">Salary b2b: {{ vacancy.salary_b2b }}</h2>
  {% endif %}
  <div class="table-wrapper table-wrapper-vacancy">
    <table class="table">
      <thead class="table__header">
      <tr>
        <th class="table__th">Skill</th>
        <th class="table__th">Level</th>
      <tr>
      </thead>
      <tbody class="table__body">
      {% for skill_dict in skills %}
        <tr class="table__tr">
          <td class="table__td skill-td">{{ skill_dict['skill'] }}</td>
          <td class="table__td skill-td">{{ skill_dict['level'] }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
  <div>{{ vacancy['description']|safe }}</div>
</main>
{% endblock %}
